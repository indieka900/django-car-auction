{% extends 'base.html' %}
{% load humanize %}
{% block title %}
View Car
{% endblock %}

{% block main %}
<main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs">
        <div class="page-header d-flex align-items-center" style="background-image: url('assets/img/contactus.jpg');">
            <div class="container position-relative">
                <div class="row d-flex justify-content-center">
                    <div class="col-lg-6 text-center">
                        <h2>View Car</h2>
                    </div>
                </div>
            </div>
        </div>
        <nav>
            <div class="container">
                <ol>
                    <li><a style="color: #034707;" href="{% url 'index' %}">Home</a></li>
                    <li>View Car</li>
                </ol>
            </div>
        </nav>
    </div><!-- End Breadcrumbs -->

    <!-- ======= Car Details Section ======= -->
    <section id="car-details" class="car-details">
        <div class="container" data-aos="fade-up">

            {% for message in messages %}
            <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
                <strong>{{message}}</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}

            <div class="row gy-4 mt-4">
                <div class="col-lg-6">
                    <div class="card">
                        <img src="/media/{{ car.image }}" class="card-img-top" alt="{{ car.make }} {{ car.model }}">
                    </div>
                </div>

                <div class="col-lg-6">


                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">{{ car.make }} {{ car.model }} {{ car.year }}</h5>
                            <p class="card-text">Condition: {{ car.condition }}</p>
                            <p class="card-text">Bid Count: {{ car.bid_count }}</p>
                            <p class="card-text">Highest Bid: Ksh {{ car.highest_bid|intcomma }}</p>
                            <form action="" method="post">
                                {% csrf_token %}
                                <div class="mb-3">
                                    <label for="bid_amount" class="form-label">Your Bid:</label>
                                    <input type="number" class="form-control" id="bid_amount" name="bid_amount" min="0"
                                        required>
                                </div>
                                <button type="submit" class="btn btn-primary">Place Bid</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

{% endblock %}